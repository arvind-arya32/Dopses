{% extends "users/base.html" %}
{% block title %}Profile Page{% endblock title %}
{% block content %}
{% load static %}
<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>dopses</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/styles.min.css?h=f3f5e3e0fd9b38313d60c6777e01a15a">
</head>
    

    
        

    {% if user_form.errors %}
        <div class="alert alert-danger alert-dismissible" role="alert">
            <div id="form_errors">
                {% for key, value in user_form.errors.items %}
                    <strong>{{ value }}</strong>
                {% endfor %}
            </div>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    {% endif %}

    <!-- Start: 1 Row 2 Columns -->
    <div class="container border rounded-0 shadow rounded">
        <div class="row">
            <div class="col-md-6 col-lg-8 text-bg-light">
                <!-- Start: Simple Line BReak --><br><!-- End: Simple Line BReak -->
                <div class="p-3 py-5" style="padding-top: 64px;margin-top: -48px;">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4 class="text-right">Profile Settings</h4>
                    </div>
                    <hr>
                    <div >
                        <img class="rounded-circle account-img" src="{{ user.profile.avatar.url }} " style="cursor: pointer;"/>
                    </div>

                    
            
                    <form method="post" enctype="multipart/form-data" >
                        {% csrf_token %}
                    
                        <div class="form-row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="small mb-1"><b>Change Profile:</b></label>
                                    {{ profile_form.avatar }}

                                    <!-- Start: Simple Line BReak --><br><!-- End: Simple Line BReak -->

                                    <label class="small mb-1"><b>Title:</b></label>
                                        {{ profile_form.title }}
                                 
                                    <label class="small mb-1"><b>First Name:</b></label>
                                            {{ form.first_name }}
                                   
                                    <label class="small mb-1"><b>Last Name:</b></label>
                                            {{ form.last_name }}
                                      


                                    <label class="small mb-1"><b>Username:</b></label>
                                        {{ form.username }}
                                    

                                    <label class="small mb-1"><b>Email:</b></label>
                                        {{ form.email }}
                                    
                                        
                                    <label class="small mb-1"><b>Alternate Email:</b></label>
                                        {{ profile_form.alternate_email_id }}

                                    <label class="small mb-1"><b>Affiliation:</b></label>
                                        {{ profile_form.affiliation }}

                                    <label class="small mb-1"><b>Affiliation Name:</b></label>
                                        {{ profile_form.affiliation_name }}

                                    <label class="small mb-1"><b>Designation:<span style="color: rgb(245,20,5);">*</span></b></label>
                                        {{ profile_form.designation }}
                                        
                                        

                                    <label class="small mb-1"><b>Addresses:</b></label>
                                        {{ profile_form.address }}

                                    <label class="small mb-1"><b>Telephone Number:</b></label>
                                        {{ profile_form.telephone_number }}

                                    <label class="small mb-1"><b>Mobile Number:</b></label>
                                        {{ profile_form.mobile_number }}

                                    <label class="small mb-1"><b>Country:</b></label>
                                        {{ profile_form.country }}

                                        
                                    <label class="small mb-1"><b>State:</b></label>
                                        {{ profile_form.state }}

                                    <label class="small mb-1"><b>City:</b></label>
                                        {{ profile_form.city }}

                                    <label class="small mb-1"><b>Research Interests:</b></label>
                                        {{ profile_form.research_interest}}

                                
                                    <labelclass="small mb-1" id="act-as-referee-container"><b>Are you willing to act as a referee:</b></label>
                                        {{ profile_form.act_as_referee }}
                                    
                                        
                                    
                                </div>
                                
                            </div>
                            <div class="form-group">
                                
                                <hr>
                                
                                
                            </div>
                            <label class="small mb-1"><b>Bio:</b></label> {{ profile_form.bio }}
                            <!-- Start: Simple Line BReak --><br><!-- End: Simple Line BReak -->
                            <a href="{% url 'changepasswordPage' %}"><b>Change Password</b></a>
                        </div>
                        </div>
                        
                        <div class="text-center mt-5">
                            <button class="btn btn-primary profile-button" type="submit">Save</button>
                            <button class="btn btn-primary profile-button" type="reset">Reset</button>
                        </div>
                        <!-- Start: Simple Line BReak --><br><!-- End: Simple Line BReak -->
                    </form>
                </div>
            
               
    


            <div class="col-md-6 col-lg-4" style="background-color: #d0e4fc">
                <!-- Start: Simple Line BReak --><br><!-- End: Simple Line BReak -->
                <h3>Welcome to DFOT-OPSES</h3>
                <h6><em><span style="color: rgb(68, 155, 242);">Create a profile to use DFOT Online Proposal Submission and Evaluation System (DFOT-OPSES)</span></em></h6><strong>Tips</strong>
                <p></p>
                <ul>
                    <li><span style="color: rgb(245, 20, 5);">* </span>marked fields are mandatory.</li>
                    <li>All communication will be made through primary email id.</li>
                    <li>If you are superannuated please use the affiliation from where you are superannuated.</li>
                </ul>
            </div>
        </div>
    </div><!-- End: 1 Row 2 Columns -->
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Get the "Designation" and "Act as referee" container
            const designationField = document.getElementById("id_designation");
            const actAsRefereeContainer = document.getElementById("act-as-referee-container");
        
            // Function to toggle the visibility of the "Act as referee" container
            function toggleActAsRefereeField() {
                // Get the selected designation value
                const selectedDesignation = designationField.value;
                
                // Check if the selected designation is not "1" (Faculty/Academic) or "2" (Postdoc)
                if (selectedDesignation !== "1" && selectedDesignation !== "2") {
                    actAsRefereeContainer.style.display = "none";
                } else {
                    actAsRefereeContainer.style.display = "block";
                }
            }
        
            // Call the toggle function when the page loads
            toggleActAsRefereeField();
        
            // Add an event listener to the "Designation" field to call the toggle function on change
            designationField.addEventListener("change", toggleActAsRefereeField);
        });
        </script>
        
        

{% endblock content %}